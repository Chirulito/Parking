@page "/"

@layout Layout.Security.SecurityLayout

@inject NavigationManager Navigation
@inject AuthService AuthService

@code {
    protected override async Task OnInitializedAsync()
    {

        await Task.Delay(10);

        if (!AuthService.HasRole("System"))
        {
            Navigation.NavigateTo("/login", forceLoad: true);
        }

        else if (!AuthService.HasRole("Staff"))
        {
            Navigation.NavigateTo("/login", forceLoad: true);
        }

        else if (!AuthService.HasRole("Security"))
        {
            Navigation.NavigateTo("/login", forceLoad: true);
        }

        else if (!AuthService.HasRole("Student"))
		{
			Navigation.NavigateTo("/login", forceLoad: true);
		}

    }
}