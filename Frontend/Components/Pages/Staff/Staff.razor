@page "/staff"

@layout Layout.Staff.StaffLayout

@inject NavigationManager Navigation
@inject AuthService AuthService

<h1>Security Page</h1>
<h1>Bienvenido, @AuthService.Name! </h1>

@code {
    protected override async Task OnInitializedAsync()
    {

        await Task.Delay(10);

        Console.WriteLine($"Roles: {string.Join(", ", AuthService.Roles)}");
        if (!AuthService.HasRole("Staff"))
        {
            Navigation.NavigateTo("/login", forceLoad: true);
        }
    }
}